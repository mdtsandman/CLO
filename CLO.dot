digraph LungMass {

rankdir=TB;
newrank=true;
compound=true;

node [color=grey];
edge [color=grey arrowhead=vee];

US [label="Antenatal US" style=filled fillcolor=grey];
HighRisk [shape=box label="HIGH Risk of Hypoplasia\n\n- Marked mediastinal shift\l- Eversion of diaphragm\l- Small unaffected lung\l"];
LowRisk [shape=box label="LOW Risk of Hypoplasia\n\n- Mediastinal shift minor/absent\l- No eversion of diaphragm\l- Generous unaffected lung\l"];
CVRTrend [label="Follow\nCVR trend" style=filled fillcolor=grey];
GoodTrend [shape=box label="Reassuring"];
BadTrend [shape=box label="Worrisome"];
MRI [label="MRI" style=filled fillcolor=grey];
SevereHypoplasia [shape=box label="O/E TLV < 50%\l"];
MildHypoplasia [shape=box label="O/E TLV > 50%\l"];
NRP [label="NRP" style=filled fontcolor=white fillcolor=darkseagreen color=darkseagreen];
HFJV [label="HFJV" style=filled fontcolor=white fillcolor=orange2 color=orange2];
EXIT [label="EXIT" style=filled fontcolor=white fillcolor=indianred color=indianred];

US -> {HighRisk, LowRisk};
HighRisk -> MRI;
LowRisk ->CVRTrend;
MRI -> SevereHypoplasia;
MRI -> MildHypoplasia;
CVRTrend -> BadTrend;
CVRTrend -> GoodTrend;
BadTrend -> MRI;
GoodTrend -> NRP;
MildHypoplasia -> NRP;
SevereHypoplasia -> {HFJV, EXIT};

NRP -> HFJV -> EXIT [style=invis];

{ rank=same; LowRisk; HighRisk; }
{ rank=same; GoodTrend; BadTrend; }
{ rank=same; MildHypoplasia; SevereHypoplasia; }
{ rank=same; LowRisk; HighRisk; }
{ rank=same; NRP; HFJV; EXIT; }

}
