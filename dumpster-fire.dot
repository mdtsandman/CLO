digraph Risks {

rankdir=TB;
newrank=true;
compound=true;
bgcolor=grey;
pad = 0.3;

node [color=white style=filled fillcolor=white];
edge [arrowhead=none color=white];

MaybeCLE [label="Potential\nCLE" fillcolor=orange2 color=grey];
NIHF [label="Non-Immune\nHydrops"];
OR [label="Immediate\nResection"];
Fear [label="Fear\nof CLE"];
FRC [label="Lung\nCollapse"];
IUD [label="Intrauterine\nDemise" style=filled fillcolor=black color=grey fontcolor=white];
Gas [label="Gas on\nthe Fire" fontcolor=white style=filled fillcolor=red color=grey];
Death [label="Death" style=filled fillcolor=black color=grey fontcolor=white];
D1;
D2;
D3;
D4;
D5;
D6;

CVI [label="Central Venous\nInsufficiency" fillcolor=orange2 color=orange2];
PHP [label="Pulmonary\nHypoplasia" fillcolor=orange2 color=orange2];

subgraph ClusterFuck {

	style=rounded;
	margin=20;
	color=red;
	bgcolor=red;

	node [fillcoloir=white color=red fontcolor=red];
	edge [arrowhead=vee color=white];

	RVI [label="RV\nischemia"];
	RVF [label="RV\nfailure"];
	PHTN [label="High\nPVR"];
	Shunt [label="R-to-L\nShunt"];
	LowBP [label="Low\nBP"];
	Badness [label="Hypoxemia\n& Acidosis"];

	PHTN -> LowBP -> Badness -> PHTN;
	PHTN -> Shunt;
	Shunt -> Badness;
	PHTN -> RVF;
	LowBP -> RVI;
	RVI -> RVF;
	RVF -> LowBP;
	LowBP -> Shunt;

	{rank=min PHTN};
	{rank=max Badness};

}

//{rank=same D1 RVF LowBP};
//{rank=same D2 RVI};
{rank=same CVI NIHF IUD};
{rank=same MaybeCLE Fear OR FRC Gas};
//{rank=same PHP PHTN};
//{rank=same D3 Badness Death};

PHP -> PHTN [arrowhead=vee weight=1500];
CVI -> NIHF;
NIHF -> IUD [arrowhead=vee];
MaybeCLE -> Fear;
Fear -> {FRC OR} -> Gas [arrowhead=vee];
Badness -> Death[constraint=false];

// invis edges to force ordering and alignment ...

CVI -> PHP -> D1 -> D2 -> D3 -> MaybeCLE [color=black weight=5000];
IUD -> D4 -> D5 -> D6 -> Death ->Gas [color=black weight=5000];

}
