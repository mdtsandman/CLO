digraph Risks {

rankdir=TB;
newrank=true;
compound=true;
bgcolor=grey;
pad = 0.3;

node [color=grey style=filled fillcolor=white];
edge [arrowhead=vee color=white];

PHP [label="Pulmonary\nHypoplasia" fillcolor=orange2 color=grey];

MaybeCLE [label="Potential\nCLE" fillcolor=orange2 color=grey];
Fear [label="Fear\nof PPV"];
OR [label="Immediate\nResection"];
Catalyst [label="Gas on\nthe Fire" fontcolor=white style=filled fillcolor=red color=grey];
Death [label="Death" style=filled fillcolor=black color=grey fontcolor=white];

// Dummy nodes for alignment
D1 [style=invis];
D2 [style=invis];

subgraph ClusterFuck {

	style=rounded;
	margin=20;
	color=red;
	bgcolor=red;

	node [fillcolor=white color=red fontcolor=red];
	edge [arrowhead=vee color=white];

	Label [label="Dumpster\nFire" shape=box fontsize=32 fontcolor=white fillcolor=red color=red];

	RVI [label="RV\nischemia"];
	RVF [label="RV\nfailure"];
	PHTN [label="High\nPVR"];
	Shunt [label="R-to-L\nShunt"];
	LowBP [label="Low\nBP"];
	Badness [label="Hypoxemia\n& Acidosis"];

	PHTN -> LowBP -> Badness -> PHTN;
	PHTN -> Shunt [weight=100];
	Shunt -> Badness;
	PHTN -> RVF;
	LowBP -> RVI;
	RVI -> RVF [weight=150];
	RVF -> LowBP [weight=100];
	LowBP -> Shunt;

	{rank=same PHTN RVF};
	{rank=same LowBP Shunt};
	{rank=same RVI Shunt};
	{rank=same Badness Label};

}

{rank=min MaybeCLE};
{rank=same Fear D2 OR};
{rank=same PHP PHTN};
{rank=same D1 Shunt};
{rank=same Death Badness};


PHP -> PHTN;

MaybeCLE -> {Fear OR} -> Catalyst;
Catalyst -> PHTN [weight=200];

Badness -> Death;

// invis edges to force ordering and alignment ...
Fear -> D2 -> OR [style=invis];
MaybeCLE -> D2 -> Catalyst [style=invis weight=200];
PHP -> D1 -> Death [style=invis weight=200];

}
