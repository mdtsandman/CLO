digraph Risks {

rankdir=TB;
newrank=true;
compound=true;
bgcolor=grey;
pad = 0.3;

node [color=grey style=filled fillcolor=white];
edge [arrowhead=vee color=white];

PHP [label="Pulmonary\nHypoplasia" fillcolor=orange2 color=grey];

MaybeCLE [label="Potential\nCLE" fillcolor=orange2 color=grey style=invis];
Fear [label="Fear\nof PPV" style=invis];
OR [label="OR during\nTransition" style=invis];
CLE [label="Actual\nCLE" style=invis];
FRC [label="Low\nFRC" style=invis];
Catalyst [label="Gas on\nthe Fire" fontcolor=white fillcolor=red color=grey style=invis];
Loop [label="Feedback\nLoop" fontcolor=white fillcolor=red color=grey style=invis];

Death [label="Death" style=filled fillcolor=black color=grey fontcolor=white];

// Dummy nodes for alignment

subgraph ClusterFuck {

	style=rounded;
	margin=20;
	color=red;
	bgcolor=red;

	node [fillcolor=white color=red fontcolor=red];
	edge [arrowhead=vee color=white];

	RVI [label="RV\nIschemia"];
	RVF [label="RV\nfailure"];
	PHTN [label="High\nPVR"];
	Shunt [label="R-to-L\nShunt"];
	LowBP [label="Low\nBP"];
	LowOutput [label="Low-Flow\nState"];
	Badness [label="Hypoxemia\n& Acidosis"];

	PHTN -> LowBP;
	PHTN -> Shunt -> Badness;
	PHTN -> RVF;
	RVI -> RVF;
	RVF -> { LowBP LowOutput } -> Badness;
	LowBP -> RVI;
	LowBP -> Shunt;
	LowOutput -> LowBP;

{rank=min PHTN};
{rank=same PHTN RVF};
{rank=same LowBP RVI Shunt};
{rank=same Badness LowOutput};

}

{rank=min MaybeCLE};
{rank=same Fear CLE OR};
{rank=same FRC Catalyst};
{rank=same PHP PHTN};
{rank=same Loop Shunt};
{rank=same Death Badness};

PHP -> PHTN;

MaybeCLE -> OR -> Catalyst -> PHTN [style=invis];
MaybeCLE -> {Fear CLE} [style=invis];
CLE -> Catalyst [style=invis];
Fear -> FRC -> Catalyst [style=invis];

Badness -> Loop -> PHTN [style=invis];

Badness -> Death;

// invis edges to force ordering and alignment ...
PHP -> Loop -> Death [style=invis];

}
